// Author  : Lewis Ward
// Program : Small Maths Library
// Date    : 20/03/2016
#pragma once
#include "Mat4.h"

//----------------------------------------------------------------------------------------------------------------------
/// \brief  maths namespace
//----------------------------------------------------------------------------------------------------------------------
namespace math
{
	//----------------------------------------------------------------------------------------------------------------------
	/// \brief  AABB
	//----------------------------------------------------------------------------------------------------------------------
	class AABB
	{
	public:

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  constructor
		//----------------------------------------------------------------------------------------------------------------------
		AABB();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  constructor
		/// \prama	math::Vec3 minimum
		/// \prama	math::Vec3 maximum
		//----------------------------------------------------------------------------------------------------------------------
		AABB(math::Vec3& min, math::Vec3& max);
		
		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  destructor
		//----------------------------------------------------------------------------------------------------------------------
		~AABB();

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  if the point is within the AABB returns true
		/// \prama	math::Vec3
		/// \return	bool
		//----------------------------------------------------------------------------------------------------------------------
		bool contains(math::Vec3& point);

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  if the AABB intersects with this AABB returns true
		/// \prama	math::AABB
		/// \return	bool
		//----------------------------------------------------------------------------------------------------------------------
		bool intersect(const AABB& aabb);

		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  get the center of the AABB
		/// \return	math::Vec3 
		//----------------------------------------------------------------------------------------------------------------------
		inline math::Vec3 getCenter();

		math::Vec3 m_min; ///< min
		math::Vec3 m_max; ///< max
		math::Vec3 m_center; ///< center of the AABB
		math::Vec3 m_half; ///< halfwidths

	private:
		//----------------------------------------------------------------------------------------------------------------------
		/// \brief  compute the center of the AABB
		//----------------------------------------------------------------------------------------------------------------------
		void updateCenter();
	};

}; // end of math namespace
